"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@better-auth+telemetry@1.3._9689844af577e247fe82d98ccf8641df";
exports.ids = ["vendor-chunks/@better-auth+telemetry@1.3._9689844af577e247fe82d98ccf8641df"];
exports.modules = {

/***/ "(rsc)/./node_modules/.pnpm/@better-auth+telemetry@1.3._9689844af577e247fe82d98ccf8641df/node_modules/@better-auth/telemetry/dist/index.mjs":
/*!********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@better-auth+telemetry@1.3._9689844af577e247fe82d98ccf8641df/node_modules/@better-auth/telemetry/dist/index.mjs ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createTelemetry: () => (/* binding */ createTelemetry),\n/* harmony export */   getTelemetryAuthConfig: () => (/* binding */ getTelemetryAuthConfig)\n/* harmony export */ });\n/* harmony import */ var _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @better-auth/core/env */ \"(rsc)/./node_modules/.pnpm/@better-auth+core@1.3.34_@b_566acc6130a3ff36333cffd139a2cceb/node_modules/@better-auth/core/dist/env/index.mjs\");\n/* harmony import */ var _better_auth_utils_random__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @better-auth/utils/random */ \"(rsc)/./node_modules/.pnpm/@better-auth+utils@0.3.0/node_modules/@better-auth/utils/dist/random.mjs\");\n/* harmony import */ var _better_auth_utils_hash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @better-auth/utils/hash */ \"(rsc)/./node_modules/.pnpm/@better-auth+utils@0.3.0/node_modules/@better-auth/utils/dist/hash.mjs\");\n/* harmony import */ var _better_auth_utils_base64__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @better-auth/utils/base64 */ \"(rsc)/./node_modules/.pnpm/@better-auth+utils@0.3.0/node_modules/@better-auth/utils/dist/base64.mjs\");\n/* harmony import */ var _better_fetch_fetch__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @better-fetch/fetch */ \"(rsc)/./node_modules/.pnpm/@better-fetch+fetch@1.1.18/node_modules/@better-fetch/fetch/dist/index.js\");\n\n\n\n\n\n\nconst generateId = (size) => {\n  return (0,_better_auth_utils_random__WEBPACK_IMPORTED_MODULE_1__.createRandomStringGenerator)(\"a-z\", \"A-Z\", \"0-9\")(size);\n};\n\nasync function hashToBase64(data) {\n  const buffer = await (0,_better_auth_utils_hash__WEBPACK_IMPORTED_MODULE_2__.createHash)(\"SHA-256\").digest(data);\n  return _better_auth_utils_base64__WEBPACK_IMPORTED_MODULE_3__.base64.encode(buffer);\n}\n\nlet packageJSONCache;\nasync function readRootPackageJson() {\n  if (packageJSONCache) return packageJSONCache;\n  try {\n    const cwd = typeof process !== \"undefined\" && typeof process.cwd === \"function\" ? process.cwd() : \"\";\n    if (!cwd) return void 0;\n    const importRuntime = (m) => Function(\"mm\", \"return import(mm)\")(m);\n    const [{ default: fs }, { default: path }] = await Promise.all([\n      importRuntime(\"fs/promises\"),\n      importRuntime(\"path\")\n    ]);\n    const raw = await fs.readFile(path.join(cwd, \"package.json\"), \"utf-8\");\n    packageJSONCache = JSON.parse(raw);\n    return packageJSONCache;\n  } catch {\n  }\n  return void 0;\n}\nasync function getPackageVersion(pkg) {\n  if (packageJSONCache) {\n    return packageJSONCache.dependencies?.[pkg] || packageJSONCache.devDependencies?.[pkg] || packageJSONCache.peerDependencies?.[pkg];\n  }\n  try {\n    const cwd = typeof process !== \"undefined\" && typeof process.cwd === \"function\" ? process.cwd() : \"\";\n    if (!cwd) throw new Error(\"no-cwd\");\n    const importRuntime = (m) => Function(\"mm\", \"return import(mm)\")(m);\n    const [{ default: fs }, { default: path }] = await Promise.all([\n      importRuntime(\"fs/promises\"),\n      importRuntime(\"path\")\n    ]);\n    const pkgJsonPath = path.join(cwd, \"node_modules\", pkg, \"package.json\");\n    const raw = await fs.readFile(pkgJsonPath, \"utf-8\");\n    const json = JSON.parse(raw);\n    const resolved = json.version || await getVersionFromLocalPackageJson(pkg) || void 0;\n    return resolved;\n  } catch {\n  }\n  const fromRoot = await getVersionFromLocalPackageJson(pkg);\n  return fromRoot;\n}\nasync function getVersionFromLocalPackageJson(pkg) {\n  const json = await readRootPackageJson();\n  if (!json) return void 0;\n  const allDeps = {\n    ...json.dependencies,\n    ...json.devDependencies,\n    ...json.peerDependencies\n  };\n  return allDeps[pkg];\n}\nasync function getNameFromLocalPackageJson() {\n  const json = await readRootPackageJson();\n  return json?.name;\n}\n\nlet projectIdCached = null;\nasync function getProjectId(baseUrl) {\n  if (projectIdCached) return projectIdCached;\n  const projectName = await getNameFromLocalPackageJson();\n  if (projectName) {\n    projectIdCached = await hashToBase64(\n      baseUrl ? baseUrl + projectName : projectName\n    );\n    return projectIdCached;\n  }\n  if (baseUrl) {\n    projectIdCached = await hashToBase64(baseUrl);\n    return projectIdCached;\n  }\n  projectIdCached = generateId(32);\n  return projectIdCached;\n}\n\nconst importRuntime = (m) => {\n  return Function(\"mm\", \"return import(mm)\")(m);\n};\n\nfunction getVendor() {\n  const hasAny = (...keys) => keys.some((k) => Boolean(_better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env[k]));\n  if (hasAny(\"CF_PAGES\", \"CF_PAGES_URL\", \"CF_ACCOUNT_ID\") || typeof navigator !== \"undefined\" && navigator.userAgent === \"Cloudflare-Workers\") {\n    return \"cloudflare\";\n  }\n  if (hasAny(\"VERCEL\", \"VERCEL_URL\", \"VERCEL_ENV\")) return \"vercel\";\n  if (hasAny(\"NETLIFY\", \"NETLIFY_URL\")) return \"netlify\";\n  if (hasAny(\n    \"RENDER\",\n    \"RENDER_URL\",\n    \"RENDER_INTERNAL_HOSTNAME\",\n    \"RENDER_SERVICE_ID\"\n  )) {\n    return \"render\";\n  }\n  if (hasAny(\"AWS_LAMBDA_FUNCTION_NAME\", \"AWS_EXECUTION_ENV\", \"LAMBDA_TASK_ROOT\")) {\n    return \"aws\";\n  }\n  if (hasAny(\n    \"GOOGLE_CLOUD_FUNCTION_NAME\",\n    \"GOOGLE_CLOUD_PROJECT\",\n    \"GCP_PROJECT\",\n    \"K_SERVICE\"\n  )) {\n    return \"gcp\";\n  }\n  if (hasAny(\n    \"AZURE_FUNCTION_NAME\",\n    \"FUNCTIONS_WORKER_RUNTIME\",\n    \"WEBSITE_INSTANCE_ID\",\n    \"WEBSITE_SITE_NAME\"\n  )) {\n    return \"azure\";\n  }\n  if (hasAny(\"DENO_DEPLOYMENT_ID\", \"DENO_REGION\")) return \"deno-deploy\";\n  if (hasAny(\"FLY_APP_NAME\", \"FLY_REGION\", \"FLY_ALLOC_ID\")) return \"fly-io\";\n  if (hasAny(\"RAILWAY_STATIC_URL\", \"RAILWAY_ENVIRONMENT_NAME\"))\n    return \"railway\";\n  if (hasAny(\"DYNO\", \"HEROKU_APP_NAME\")) return \"heroku\";\n  if (hasAny(\"DO_DEPLOYMENT_ID\", \"DO_APP_NAME\", \"DIGITALOCEAN\"))\n    return \"digitalocean\";\n  if (hasAny(\"KOYEB\", \"KOYEB_DEPLOYMENT_ID\", \"KOYEB_APP_NAME\")) return \"koyeb\";\n  return null;\n}\nasync function detectSystemInfo() {\n  try {\n    if (getVendor() === \"cloudflare\") return \"cloudflare\";\n    const os = await importRuntime(\"os\");\n    const cpus = os.cpus();\n    return {\n      deploymentVendor: getVendor(),\n      systemPlatform: os.platform(),\n      systemRelease: os.release(),\n      systemArchitecture: os.arch(),\n      cpuCount: cpus.length,\n      cpuModel: cpus.length ? cpus[0].model : null,\n      cpuSpeed: cpus.length ? cpus[0].speed : null,\n      memory: os.totalmem(),\n      isWSL: await isWsl(),\n      isDocker: await isDocker(),\n      isTTY: typeof process !== \"undefined\" && process.stdout ? process.stdout.isTTY : null\n    };\n  } catch (e) {\n    return {\n      systemPlatform: null,\n      systemRelease: null,\n      systemArchitecture: null,\n      cpuCount: null,\n      cpuModel: null,\n      cpuSpeed: null,\n      memory: null,\n      isWSL: null,\n      isDocker: null,\n      isTTY: null\n    };\n  }\n}\nlet isDockerCached;\nasync function hasDockerEnv() {\n  if (getVendor() === \"cloudflare\") return false;\n  try {\n    const fs = await importRuntime(\"fs\");\n    fs.statSync(\"/.dockerenv\");\n    return true;\n  } catch {\n    return false;\n  }\n}\nasync function hasDockerCGroup() {\n  if (getVendor() === \"cloudflare\") return false;\n  try {\n    const fs = await importRuntime(\"fs\");\n    return fs.readFileSync(\"/proc/self/cgroup\", \"utf8\").includes(\"docker\");\n  } catch {\n    return false;\n  }\n}\nasync function isDocker() {\n  if (getVendor() === \"cloudflare\") return false;\n  if (isDockerCached === void 0) {\n    isDockerCached = await hasDockerEnv() || await hasDockerCGroup();\n  }\n  return isDockerCached;\n}\nasync function isWsl() {\n  try {\n    if (getVendor() === \"cloudflare\") return false;\n    if (typeof process === \"undefined\" || process?.platform !== \"linux\") {\n      return false;\n    }\n    const fs = await importRuntime(\"fs\");\n    const os = await importRuntime(\"os\");\n    if (os.release().toLowerCase().includes(\"microsoft\")) {\n      if (await isInsideContainer()) {\n        return false;\n      }\n      return true;\n    }\n    return fs.readFileSync(\"/proc/version\", \"utf8\").toLowerCase().includes(\"microsoft\") ? !await isInsideContainer() : false;\n  } catch {\n    return false;\n  }\n}\nlet isInsideContainerCached;\nconst hasContainerEnv = async () => {\n  if (getVendor() === \"cloudflare\") return false;\n  try {\n    const fs = await importRuntime(\"fs\");\n    fs.statSync(\"/run/.containerenv\");\n    return true;\n  } catch {\n    return false;\n  }\n};\nasync function isInsideContainer() {\n  if (isInsideContainerCached === void 0) {\n    isInsideContainerCached = await hasContainerEnv() || await isDocker();\n  }\n  return isInsideContainerCached;\n}\nfunction isCI() {\n  return _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env.CI !== \"false\" && (\"BUILD_ID\" in _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env || // Jenkins, Cloudbees\n  \"BUILD_NUMBER\" in _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env || // Jenkins, TeamCity (fixed typo: extra space removed)\n  \"CI\" in _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env || // Travis CI, CircleCI, Cirrus CI, Gitlab CI, Appveyor, CodeShip, dsari, Cloudflare\n  \"CI_APP_ID\" in _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env || // Appflow\n  \"CI_BUILD_ID\" in _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env || // Appflow\n  \"CI_BUILD_NUMBER\" in _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env || // Appflow\n  \"CI_NAME\" in _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env || // Codeship and others\n  \"CONTINUOUS_INTEGRATION\" in _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env || // Travis CI, Cirrus CI\n  \"RUN_ID\" in _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env);\n}\n\nfunction detectRuntime() {\n  if (typeof Deno !== \"undefined\") {\n    const denoVersion = Deno?.version?.deno ?? null;\n    return { name: \"deno\", version: denoVersion };\n  }\n  if (typeof Bun !== \"undefined\") {\n    const bunVersion = Bun?.version ?? null;\n    return { name: \"bun\", version: bunVersion };\n  }\n  if (typeof process !== \"undefined\" && process?.versions?.node) {\n    return { name: \"node\", version: process.versions.node ?? null };\n  }\n  return { name: \"edge\", version: null };\n}\nfunction detectEnvironment() {\n  return (0,_better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.getEnvVar)(\"NODE_ENV\") === \"production\" ? \"production\" : isCI() ? \"ci\" : (0,_better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.isTest)() ? \"test\" : \"development\";\n}\n\nconst DATABASES = {\n  pg: \"postgresql\",\n  mysql: \"mysql\",\n  mariadb: \"mariadb\",\n  sqlite3: \"sqlite\",\n  \"better-sqlite3\": \"sqlite\",\n  \"@prisma/client\": \"prisma\",\n  mongoose: \"mongodb\",\n  mongodb: \"mongodb\",\n  \"drizzle-orm\": \"drizzle\"\n};\nasync function detectDatabase() {\n  for (const [pkg, name] of Object.entries(DATABASES)) {\n    const version = await getPackageVersion(pkg);\n    if (version) return { name, version };\n  }\n  return void 0;\n}\n\nconst FRAMEWORKS = {\n  next: \"next\",\n  nuxt: \"nuxt\",\n  \"@remix-run/server-runtime\": \"remix\",\n  astro: \"astro\",\n  \"@sveltejs/kit\": \"sveltekit\",\n  \"solid-start\": \"solid-start\",\n  \"tanstack-start\": \"tanstack-start\",\n  hono: \"hono\",\n  express: \"express\",\n  elysia: \"elysia\",\n  expo: \"expo\"\n};\nasync function detectFramework() {\n  for (const [pkg, name] of Object.entries(FRAMEWORKS)) {\n    const version = await getPackageVersion(pkg);\n    if (version) return { name, version };\n  }\n  return void 0;\n}\n\nfunction detectPackageManager() {\n  const userAgent = _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.env.npm_config_user_agent;\n  if (!userAgent) {\n    return void 0;\n  }\n  const pmSpec = userAgent.split(\" \")[0];\n  const separatorPos = pmSpec.lastIndexOf(\"/\");\n  const name = pmSpec.substring(0, separatorPos);\n  return {\n    name: name === \"npminstall\" ? \"cnpm\" : name,\n    version: pmSpec.substring(separatorPos + 1)\n  };\n}\n\nfunction getTelemetryAuthConfig(options, context) {\n  return {\n    database: context?.database,\n    adapter: context?.adapter,\n    emailVerification: {\n      sendVerificationEmail: !!options.emailVerification?.sendVerificationEmail,\n      sendOnSignUp: !!options.emailVerification?.sendOnSignUp,\n      sendOnSignIn: !!options.emailVerification?.sendOnSignIn,\n      autoSignInAfterVerification: !!options.emailVerification?.autoSignInAfterVerification,\n      expiresIn: options.emailVerification?.expiresIn,\n      onEmailVerification: !!options.emailVerification?.onEmailVerification,\n      afterEmailVerification: !!options.emailVerification?.afterEmailVerification\n    },\n    emailAndPassword: {\n      enabled: !!options.emailAndPassword?.enabled,\n      disableSignUp: !!options.emailAndPassword?.disableSignUp,\n      requireEmailVerification: !!options.emailAndPassword?.requireEmailVerification,\n      maxPasswordLength: options.emailAndPassword?.maxPasswordLength,\n      minPasswordLength: options.emailAndPassword?.minPasswordLength,\n      sendResetPassword: !!options.emailAndPassword?.sendResetPassword,\n      resetPasswordTokenExpiresIn: options.emailAndPassword?.resetPasswordTokenExpiresIn,\n      onPasswordReset: !!options.emailAndPassword?.onPasswordReset,\n      password: {\n        hash: !!options.emailAndPassword?.password?.hash,\n        verify: !!options.emailAndPassword?.password?.verify\n      },\n      autoSignIn: !!options.emailAndPassword?.autoSignIn,\n      revokeSessionsOnPasswordReset: !!options.emailAndPassword?.revokeSessionsOnPasswordReset\n    },\n    socialProviders: Object.keys(options.socialProviders || {}).map((p) => {\n      const provider = options.socialProviders?.[p];\n      if (!provider) return {};\n      return {\n        id: p,\n        mapProfileToUser: !!provider.mapProfileToUser,\n        disableDefaultScope: !!provider.disableDefaultScope,\n        disableIdTokenSignIn: !!provider.disableIdTokenSignIn,\n        disableImplicitSignUp: provider.disableImplicitSignUp,\n        disableSignUp: provider.disableSignUp,\n        getUserInfo: !!provider.getUserInfo,\n        overrideUserInfoOnSignIn: !!provider.overrideUserInfoOnSignIn,\n        prompt: provider.prompt,\n        verifyIdToken: !!provider.verifyIdToken,\n        scope: provider.scope,\n        refreshAccessToken: !!provider.refreshAccessToken\n      };\n    }),\n    plugins: options.plugins?.map((p) => p.id.toString()),\n    user: {\n      modelName: options.user?.modelName,\n      fields: options.user?.fields,\n      additionalFields: options.user?.additionalFields,\n      changeEmail: {\n        enabled: options.user?.changeEmail?.enabled,\n        sendChangeEmailVerification: !!options.user?.changeEmail?.sendChangeEmailVerification\n      }\n    },\n    verification: {\n      modelName: options.verification?.modelName,\n      disableCleanup: options.verification?.disableCleanup,\n      fields: options.verification?.fields\n    },\n    session: {\n      modelName: options.session?.modelName,\n      additionalFields: options.session?.additionalFields,\n      cookieCache: {\n        enabled: options.session?.cookieCache?.enabled,\n        maxAge: options.session?.cookieCache?.maxAge\n      },\n      disableSessionRefresh: options.session?.disableSessionRefresh,\n      expiresIn: options.session?.expiresIn,\n      fields: options.session?.fields,\n      freshAge: options.session?.freshAge,\n      preserveSessionInDatabase: options.session?.preserveSessionInDatabase,\n      storeSessionInDatabase: options.session?.storeSessionInDatabase,\n      updateAge: options.session?.updateAge\n    },\n    account: {\n      modelName: options.account?.modelName,\n      fields: options.account?.fields,\n      encryptOAuthTokens: options.account?.encryptOAuthTokens,\n      updateAccountOnSignIn: options.account?.updateAccountOnSignIn,\n      accountLinking: {\n        enabled: options.account?.accountLinking?.enabled,\n        trustedProviders: options.account?.accountLinking?.trustedProviders,\n        updateUserInfoOnLink: options.account?.accountLinking?.updateUserInfoOnLink,\n        allowUnlinkingAll: options.account?.accountLinking?.allowUnlinkingAll\n      }\n    },\n    hooks: {\n      after: !!options.hooks?.after,\n      before: !!options.hooks?.before\n    },\n    secondaryStorage: !!options.secondaryStorage,\n    advanced: {\n      cookiePrefix: !!options.advanced?.cookiePrefix,\n      //this shouldn't be tracked\n      cookies: !!options.advanced?.cookies,\n      crossSubDomainCookies: {\n        domain: !!options.advanced?.crossSubDomainCookies?.domain,\n        enabled: options.advanced?.crossSubDomainCookies?.enabled,\n        additionalCookies: options.advanced?.crossSubDomainCookies?.additionalCookies\n      },\n      database: {\n        useNumberId: !!options.advanced?.database?.useNumberId,\n        generateId: options.advanced?.database?.generateId,\n        defaultFindManyLimit: options.advanced?.database?.defaultFindManyLimit\n      },\n      useSecureCookies: options.advanced?.useSecureCookies,\n      ipAddress: {\n        disableIpTracking: options.advanced?.ipAddress?.disableIpTracking,\n        ipAddressHeaders: options.advanced?.ipAddress?.ipAddressHeaders\n      },\n      disableCSRFCheck: options.advanced?.disableCSRFCheck,\n      cookieAttributes: {\n        expires: options.advanced?.defaultCookieAttributes?.expires,\n        secure: options.advanced?.defaultCookieAttributes?.secure,\n        sameSite: options.advanced?.defaultCookieAttributes?.sameSite,\n        domain: !!options.advanced?.defaultCookieAttributes?.domain,\n        path: options.advanced?.defaultCookieAttributes?.path,\n        httpOnly: options.advanced?.defaultCookieAttributes?.httpOnly\n      }\n    },\n    trustedOrigins: options.trustedOrigins?.length,\n    rateLimit: {\n      storage: options.rateLimit?.storage,\n      modelName: options.rateLimit?.modelName,\n      window: options.rateLimit?.window,\n      customStorage: !!options.rateLimit?.customStorage,\n      enabled: options.rateLimit?.enabled,\n      max: options.rateLimit?.max\n    },\n    onAPIError: {\n      errorURL: options.onAPIError?.errorURL,\n      onError: !!options.onAPIError?.onError,\n      throw: options.onAPIError?.throw\n    },\n    logger: {\n      disabled: options.logger?.disabled,\n      level: options.logger?.level,\n      log: !!options.logger?.log\n    },\n    databaseHooks: {\n      user: {\n        create: {\n          after: !!options.databaseHooks?.user?.create?.after,\n          before: !!options.databaseHooks?.user?.create?.before\n        },\n        update: {\n          after: !!options.databaseHooks?.user?.update?.after,\n          before: !!options.databaseHooks?.user?.update?.before\n        }\n      },\n      session: {\n        create: {\n          after: !!options.databaseHooks?.session?.create?.after,\n          before: !!options.databaseHooks?.session?.create?.before\n        },\n        update: {\n          after: !!options.databaseHooks?.session?.update?.after,\n          before: !!options.databaseHooks?.session?.update?.before\n        }\n      },\n      account: {\n        create: {\n          after: !!options.databaseHooks?.account?.create?.after,\n          before: !!options.databaseHooks?.account?.create?.before\n        },\n        update: {\n          after: !!options.databaseHooks?.account?.update?.after,\n          before: !!options.databaseHooks?.account?.update?.before\n        }\n      },\n      verification: {\n        create: {\n          after: !!options.databaseHooks?.verification?.create?.after,\n          before: !!options.databaseHooks?.verification?.create?.before\n        },\n        update: {\n          after: !!options.databaseHooks?.verification?.update?.after,\n          before: !!options.databaseHooks?.verification?.update?.before\n        }\n      }\n    }\n  };\n}\n\nasync function createTelemetry(options, context) {\n  const debugEnabled = options.telemetry?.debug || (0,_better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.getBooleanEnvVar)(\"BETTER_AUTH_TELEMETRY_DEBUG\", false);\n  const TELEMETRY_ENDPOINT = _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.ENV.BETTER_AUTH_TELEMETRY_ENDPOINT;\n  const track = async (event) => {\n    try {\n      if (context?.customTrack) {\n        await context.customTrack(event);\n      } else {\n        if (debugEnabled) {\n          await Promise.resolve(\n            _better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.logger.info(\"telemetry event\", JSON.stringify(event, null, 2))\n          );\n        } else {\n          await (0,_better_fetch_fetch__WEBPACK_IMPORTED_MODULE_4__.betterFetch)(TELEMETRY_ENDPOINT, {\n            method: \"POST\",\n            body: event\n          });\n        }\n      }\n    } catch {\n    }\n  };\n  const isEnabled = async () => {\n    const telemetryEnabled = options.telemetry?.enabled !== void 0 ? options.telemetry.enabled : false;\n    const envEnabled = (0,_better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.getBooleanEnvVar)(\"BETTER_AUTH_TELEMETRY\", false);\n    return (envEnabled || telemetryEnabled) && (context?.skipTestCheck || !(0,_better_auth_core_env__WEBPACK_IMPORTED_MODULE_0__.isTest)());\n  };\n  const enabled = await isEnabled();\n  let anonymousId;\n  if (enabled) {\n    anonymousId = await getProjectId(options.baseURL);\n    const payload = {\n      config: getTelemetryAuthConfig(options),\n      runtime: detectRuntime(),\n      database: await detectDatabase(),\n      framework: await detectFramework(),\n      environment: detectEnvironment(),\n      systemInfo: await detectSystemInfo(),\n      packageManager: detectPackageManager()\n    };\n    void track({ type: \"init\", payload, anonymousId });\n  }\n  return {\n    publish: async (event) => {\n      if (!enabled) return;\n      if (!anonymousId) {\n        anonymousId = await getProjectId(options.baseURL);\n      }\n      await track({\n        type: event.type,\n        payload: event.payload,\n        anonymousId\n      });\n    }\n  };\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vQGJldHRlci1hdXRoK3RlbGVtZXRyeUAxLjMuXzk2ODk4NDRhZjU3N2UyNDdmZTgyZDk4Y2NmODY0MWRmL25vZGVfbW9kdWxlcy9AYmV0dGVyLWF1dGgvdGVsZW1ldHJ5L2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBOEY7QUFDdEI7QUFDbkI7QUFDRjtBQUNEOztBQUVsRDtBQUNBLFNBQVMsc0ZBQTJCO0FBQ3BDOztBQUVBO0FBQ0EsdUJBQXVCLG1FQUFVO0FBQ2pDLFNBQVMsNkRBQU07QUFDZjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsYUFBYSxJQUFJLGVBQWU7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGFBQWEsSUFBSSxlQUFlO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsdURBQXVELHNEQUFHO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsc0RBQUcsb0JBQW9CLG9FQUFpQjtBQUNqRCxFQUFFLHdFQUFxQjtBQUN2QixFQUFFLDhEQUFXO0FBQ2IsRUFBRSxxRUFBa0I7QUFDcEIsRUFBRSx1RUFBb0I7QUFDdEIsRUFBRSwyRUFBd0I7QUFDMUIsRUFBRSxtRUFBZ0I7QUFDbEIsRUFBRSxrRkFBK0I7QUFDakMsRUFBRSxrRUFBZTtBQUNqQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFNBQVMsZ0VBQVMsK0RBQStELDZEQUFNO0FBQ3ZGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQixzREFBRztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTCw4REFBOEQ7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbURBQW1ELHVFQUFnQjtBQUNuRSw2QkFBNkIsc0RBQUc7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLFlBQVkseURBQU07QUFDbEI7QUFDQSxVQUFVO0FBQ1YsZ0JBQWdCLGdFQUFXO0FBQzNCO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix1RUFBZ0I7QUFDdkMsMkVBQTJFLDZEQUFNO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsb0NBQW9DO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVtRCIsInNvdXJjZXMiOlsid2VicGFjazovL25ld3MtaHViLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BiZXR0ZXItYXV0aCt0ZWxlbWV0cnlAMS4zLl85Njg5ODQ0YWY1NzdlMjQ3ZmU4MmQ5OGNjZjg2NDFkZi9ub2RlX21vZHVsZXMvQGJldHRlci1hdXRoL3RlbGVtZXRyeS9kaXN0L2luZGV4Lm1qcz9mMDEzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGVudiwgZ2V0RW52VmFyLCBpc1Rlc3QsIGdldEJvb2xlYW5FbnZWYXIsIEVOViwgbG9nZ2VyIH0gZnJvbSAnQGJldHRlci1hdXRoL2NvcmUvZW52JztcbmltcG9ydCB7IGNyZWF0ZVJhbmRvbVN0cmluZ0dlbmVyYXRvciB9IGZyb20gJ0BiZXR0ZXItYXV0aC91dGlscy9yYW5kb20nO1xuaW1wb3J0IHsgY3JlYXRlSGFzaCB9IGZyb20gJ0BiZXR0ZXItYXV0aC91dGlscy9oYXNoJztcbmltcG9ydCB7IGJhc2U2NCB9IGZyb20gJ0BiZXR0ZXItYXV0aC91dGlscy9iYXNlNjQnO1xuaW1wb3J0IHsgYmV0dGVyRmV0Y2ggfSBmcm9tICdAYmV0dGVyLWZldGNoL2ZldGNoJztcblxuY29uc3QgZ2VuZXJhdGVJZCA9IChzaXplKSA9PiB7XG4gIHJldHVybiBjcmVhdGVSYW5kb21TdHJpbmdHZW5lcmF0b3IoXCJhLXpcIiwgXCJBLVpcIiwgXCIwLTlcIikoc2l6ZSk7XG59O1xuXG5hc3luYyBmdW5jdGlvbiBoYXNoVG9CYXNlNjQoZGF0YSkge1xuICBjb25zdCBidWZmZXIgPSBhd2FpdCBjcmVhdGVIYXNoKFwiU0hBLTI1NlwiKS5kaWdlc3QoZGF0YSk7XG4gIHJldHVybiBiYXNlNjQuZW5jb2RlKGJ1ZmZlcik7XG59XG5cbmxldCBwYWNrYWdlSlNPTkNhY2hlO1xuYXN5bmMgZnVuY3Rpb24gcmVhZFJvb3RQYWNrYWdlSnNvbigpIHtcbiAgaWYgKHBhY2thZ2VKU09OQ2FjaGUpIHJldHVybiBwYWNrYWdlSlNPTkNhY2hlO1xuICB0cnkge1xuICAgIGNvbnN0IGN3ZCA9IHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBwcm9jZXNzLmN3ZCA9PT0gXCJmdW5jdGlvblwiID8gcHJvY2Vzcy5jd2QoKSA6IFwiXCI7XG4gICAgaWYgKCFjd2QpIHJldHVybiB2b2lkIDA7XG4gICAgY29uc3QgaW1wb3J0UnVudGltZSA9IChtKSA9PiBGdW5jdGlvbihcIm1tXCIsIFwicmV0dXJuIGltcG9ydChtbSlcIikobSk7XG4gICAgY29uc3QgW3sgZGVmYXVsdDogZnMgfSwgeyBkZWZhdWx0OiBwYXRoIH1dID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgaW1wb3J0UnVudGltZShcImZzL3Byb21pc2VzXCIpLFxuICAgICAgaW1wb3J0UnVudGltZShcInBhdGhcIilcbiAgICBdKTtcbiAgICBjb25zdCByYXcgPSBhd2FpdCBmcy5yZWFkRmlsZShwYXRoLmpvaW4oY3dkLCBcInBhY2thZ2UuanNvblwiKSwgXCJ1dGYtOFwiKTtcbiAgICBwYWNrYWdlSlNPTkNhY2hlID0gSlNPTi5wYXJzZShyYXcpO1xuICAgIHJldHVybiBwYWNrYWdlSlNPTkNhY2hlO1xuICB9IGNhdGNoIHtcbiAgfVxuICByZXR1cm4gdm9pZCAwO1xufVxuYXN5bmMgZnVuY3Rpb24gZ2V0UGFja2FnZVZlcnNpb24ocGtnKSB7XG4gIGlmIChwYWNrYWdlSlNPTkNhY2hlKSB7XG4gICAgcmV0dXJuIHBhY2thZ2VKU09OQ2FjaGUuZGVwZW5kZW5jaWVzPy5bcGtnXSB8fCBwYWNrYWdlSlNPTkNhY2hlLmRldkRlcGVuZGVuY2llcz8uW3BrZ10gfHwgcGFja2FnZUpTT05DYWNoZS5wZWVyRGVwZW5kZW5jaWVzPy5bcGtnXTtcbiAgfVxuICB0cnkge1xuICAgIGNvbnN0IGN3ZCA9IHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBwcm9jZXNzLmN3ZCA9PT0gXCJmdW5jdGlvblwiID8gcHJvY2Vzcy5jd2QoKSA6IFwiXCI7XG4gICAgaWYgKCFjd2QpIHRocm93IG5ldyBFcnJvcihcIm5vLWN3ZFwiKTtcbiAgICBjb25zdCBpbXBvcnRSdW50aW1lID0gKG0pID0+IEZ1bmN0aW9uKFwibW1cIiwgXCJyZXR1cm4gaW1wb3J0KG1tKVwiKShtKTtcbiAgICBjb25zdCBbeyBkZWZhdWx0OiBmcyB9LCB7IGRlZmF1bHQ6IHBhdGggfV0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICBpbXBvcnRSdW50aW1lKFwiZnMvcHJvbWlzZXNcIiksXG4gICAgICBpbXBvcnRSdW50aW1lKFwicGF0aFwiKVxuICAgIF0pO1xuICAgIGNvbnN0IHBrZ0pzb25QYXRoID0gcGF0aC5qb2luKGN3ZCwgXCJub2RlX21vZHVsZXNcIiwgcGtnLCBcInBhY2thZ2UuanNvblwiKTtcbiAgICBjb25zdCByYXcgPSBhd2FpdCBmcy5yZWFkRmlsZShwa2dKc29uUGF0aCwgXCJ1dGYtOFwiKTtcbiAgICBjb25zdCBqc29uID0gSlNPTi5wYXJzZShyYXcpO1xuICAgIGNvbnN0IHJlc29sdmVkID0ganNvbi52ZXJzaW9uIHx8IGF3YWl0IGdldFZlcnNpb25Gcm9tTG9jYWxQYWNrYWdlSnNvbihwa2cpIHx8IHZvaWQgMDtcbiAgICByZXR1cm4gcmVzb2x2ZWQ7XG4gIH0gY2F0Y2gge1xuICB9XG4gIGNvbnN0IGZyb21Sb290ID0gYXdhaXQgZ2V0VmVyc2lvbkZyb21Mb2NhbFBhY2thZ2VKc29uKHBrZyk7XG4gIHJldHVybiBmcm9tUm9vdDtcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldFZlcnNpb25Gcm9tTG9jYWxQYWNrYWdlSnNvbihwa2cpIHtcbiAgY29uc3QganNvbiA9IGF3YWl0IHJlYWRSb290UGFja2FnZUpzb24oKTtcbiAgaWYgKCFqc29uKSByZXR1cm4gdm9pZCAwO1xuICBjb25zdCBhbGxEZXBzID0ge1xuICAgIC4uLmpzb24uZGVwZW5kZW5jaWVzLFxuICAgIC4uLmpzb24uZGV2RGVwZW5kZW5jaWVzLFxuICAgIC4uLmpzb24ucGVlckRlcGVuZGVuY2llc1xuICB9O1xuICByZXR1cm4gYWxsRGVwc1twa2ddO1xufVxuYXN5bmMgZnVuY3Rpb24gZ2V0TmFtZUZyb21Mb2NhbFBhY2thZ2VKc29uKCkge1xuICBjb25zdCBqc29uID0gYXdhaXQgcmVhZFJvb3RQYWNrYWdlSnNvbigpO1xuICByZXR1cm4ganNvbj8ubmFtZTtcbn1cblxubGV0IHByb2plY3RJZENhY2hlZCA9IG51bGw7XG5hc3luYyBmdW5jdGlvbiBnZXRQcm9qZWN0SWQoYmFzZVVybCkge1xuICBpZiAocHJvamVjdElkQ2FjaGVkKSByZXR1cm4gcHJvamVjdElkQ2FjaGVkO1xuICBjb25zdCBwcm9qZWN0TmFtZSA9IGF3YWl0IGdldE5hbWVGcm9tTG9jYWxQYWNrYWdlSnNvbigpO1xuICBpZiAocHJvamVjdE5hbWUpIHtcbiAgICBwcm9qZWN0SWRDYWNoZWQgPSBhd2FpdCBoYXNoVG9CYXNlNjQoXG4gICAgICBiYXNlVXJsID8gYmFzZVVybCArIHByb2plY3ROYW1lIDogcHJvamVjdE5hbWVcbiAgICApO1xuICAgIHJldHVybiBwcm9qZWN0SWRDYWNoZWQ7XG4gIH1cbiAgaWYgKGJhc2VVcmwpIHtcbiAgICBwcm9qZWN0SWRDYWNoZWQgPSBhd2FpdCBoYXNoVG9CYXNlNjQoYmFzZVVybCk7XG4gICAgcmV0dXJuIHByb2plY3RJZENhY2hlZDtcbiAgfVxuICBwcm9qZWN0SWRDYWNoZWQgPSBnZW5lcmF0ZUlkKDMyKTtcbiAgcmV0dXJuIHByb2plY3RJZENhY2hlZDtcbn1cblxuY29uc3QgaW1wb3J0UnVudGltZSA9IChtKSA9PiB7XG4gIHJldHVybiBGdW5jdGlvbihcIm1tXCIsIFwicmV0dXJuIGltcG9ydChtbSlcIikobSk7XG59O1xuXG5mdW5jdGlvbiBnZXRWZW5kb3IoKSB7XG4gIGNvbnN0IGhhc0FueSA9ICguLi5rZXlzKSA9PiBrZXlzLnNvbWUoKGspID0+IEJvb2xlYW4oZW52W2tdKSk7XG4gIGlmIChoYXNBbnkoXCJDRl9QQUdFU1wiLCBcIkNGX1BBR0VTX1VSTFwiLCBcIkNGX0FDQ09VTlRfSURcIikgfHwgdHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBuYXZpZ2F0b3IudXNlckFnZW50ID09PSBcIkNsb3VkZmxhcmUtV29ya2Vyc1wiKSB7XG4gICAgcmV0dXJuIFwiY2xvdWRmbGFyZVwiO1xuICB9XG4gIGlmIChoYXNBbnkoXCJWRVJDRUxcIiwgXCJWRVJDRUxfVVJMXCIsIFwiVkVSQ0VMX0VOVlwiKSkgcmV0dXJuIFwidmVyY2VsXCI7XG4gIGlmIChoYXNBbnkoXCJORVRMSUZZXCIsIFwiTkVUTElGWV9VUkxcIikpIHJldHVybiBcIm5ldGxpZnlcIjtcbiAgaWYgKGhhc0FueShcbiAgICBcIlJFTkRFUlwiLFxuICAgIFwiUkVOREVSX1VSTFwiLFxuICAgIFwiUkVOREVSX0lOVEVSTkFMX0hPU1ROQU1FXCIsXG4gICAgXCJSRU5ERVJfU0VSVklDRV9JRFwiXG4gICkpIHtcbiAgICByZXR1cm4gXCJyZW5kZXJcIjtcbiAgfVxuICBpZiAoaGFzQW55KFwiQVdTX0xBTUJEQV9GVU5DVElPTl9OQU1FXCIsIFwiQVdTX0VYRUNVVElPTl9FTlZcIiwgXCJMQU1CREFfVEFTS19ST09UXCIpKSB7XG4gICAgcmV0dXJuIFwiYXdzXCI7XG4gIH1cbiAgaWYgKGhhc0FueShcbiAgICBcIkdPT0dMRV9DTE9VRF9GVU5DVElPTl9OQU1FXCIsXG4gICAgXCJHT09HTEVfQ0xPVURfUFJPSkVDVFwiLFxuICAgIFwiR0NQX1BST0pFQ1RcIixcbiAgICBcIktfU0VSVklDRVwiXG4gICkpIHtcbiAgICByZXR1cm4gXCJnY3BcIjtcbiAgfVxuICBpZiAoaGFzQW55KFxuICAgIFwiQVpVUkVfRlVOQ1RJT05fTkFNRVwiLFxuICAgIFwiRlVOQ1RJT05TX1dPUktFUl9SVU5USU1FXCIsXG4gICAgXCJXRUJTSVRFX0lOU1RBTkNFX0lEXCIsXG4gICAgXCJXRUJTSVRFX1NJVEVfTkFNRVwiXG4gICkpIHtcbiAgICByZXR1cm4gXCJhenVyZVwiO1xuICB9XG4gIGlmIChoYXNBbnkoXCJERU5PX0RFUExPWU1FTlRfSURcIiwgXCJERU5PX1JFR0lPTlwiKSkgcmV0dXJuIFwiZGVuby1kZXBsb3lcIjtcbiAgaWYgKGhhc0FueShcIkZMWV9BUFBfTkFNRVwiLCBcIkZMWV9SRUdJT05cIiwgXCJGTFlfQUxMT0NfSURcIikpIHJldHVybiBcImZseS1pb1wiO1xuICBpZiAoaGFzQW55KFwiUkFJTFdBWV9TVEFUSUNfVVJMXCIsIFwiUkFJTFdBWV9FTlZJUk9OTUVOVF9OQU1FXCIpKVxuICAgIHJldHVybiBcInJhaWx3YXlcIjtcbiAgaWYgKGhhc0FueShcIkRZTk9cIiwgXCJIRVJPS1VfQVBQX05BTUVcIikpIHJldHVybiBcImhlcm9rdVwiO1xuICBpZiAoaGFzQW55KFwiRE9fREVQTE9ZTUVOVF9JRFwiLCBcIkRPX0FQUF9OQU1FXCIsIFwiRElHSVRBTE9DRUFOXCIpKVxuICAgIHJldHVybiBcImRpZ2l0YWxvY2VhblwiO1xuICBpZiAoaGFzQW55KFwiS09ZRUJcIiwgXCJLT1lFQl9ERVBMT1lNRU5UX0lEXCIsIFwiS09ZRUJfQVBQX05BTUVcIikpIHJldHVybiBcImtveWViXCI7XG4gIHJldHVybiBudWxsO1xufVxuYXN5bmMgZnVuY3Rpb24gZGV0ZWN0U3lzdGVtSW5mbygpIHtcbiAgdHJ5IHtcbiAgICBpZiAoZ2V0VmVuZG9yKCkgPT09IFwiY2xvdWRmbGFyZVwiKSByZXR1cm4gXCJjbG91ZGZsYXJlXCI7XG4gICAgY29uc3Qgb3MgPSBhd2FpdCBpbXBvcnRSdW50aW1lKFwib3NcIik7XG4gICAgY29uc3QgY3B1cyA9IG9zLmNwdXMoKTtcbiAgICByZXR1cm4ge1xuICAgICAgZGVwbG95bWVudFZlbmRvcjogZ2V0VmVuZG9yKCksXG4gICAgICBzeXN0ZW1QbGF0Zm9ybTogb3MucGxhdGZvcm0oKSxcbiAgICAgIHN5c3RlbVJlbGVhc2U6IG9zLnJlbGVhc2UoKSxcbiAgICAgIHN5c3RlbUFyY2hpdGVjdHVyZTogb3MuYXJjaCgpLFxuICAgICAgY3B1Q291bnQ6IGNwdXMubGVuZ3RoLFxuICAgICAgY3B1TW9kZWw6IGNwdXMubGVuZ3RoID8gY3B1c1swXS5tb2RlbCA6IG51bGwsXG4gICAgICBjcHVTcGVlZDogY3B1cy5sZW5ndGggPyBjcHVzWzBdLnNwZWVkIDogbnVsbCxcbiAgICAgIG1lbW9yeTogb3MudG90YWxtZW0oKSxcbiAgICAgIGlzV1NMOiBhd2FpdCBpc1dzbCgpLFxuICAgICAgaXNEb2NrZXI6IGF3YWl0IGlzRG9ja2VyKCksXG4gICAgICBpc1RUWTogdHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgJiYgcHJvY2Vzcy5zdGRvdXQgPyBwcm9jZXNzLnN0ZG91dC5pc1RUWSA6IG51bGxcbiAgICB9O1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN5c3RlbVBsYXRmb3JtOiBudWxsLFxuICAgICAgc3lzdGVtUmVsZWFzZTogbnVsbCxcbiAgICAgIHN5c3RlbUFyY2hpdGVjdHVyZTogbnVsbCxcbiAgICAgIGNwdUNvdW50OiBudWxsLFxuICAgICAgY3B1TW9kZWw6IG51bGwsXG4gICAgICBjcHVTcGVlZDogbnVsbCxcbiAgICAgIG1lbW9yeTogbnVsbCxcbiAgICAgIGlzV1NMOiBudWxsLFxuICAgICAgaXNEb2NrZXI6IG51bGwsXG4gICAgICBpc1RUWTogbnVsbFxuICAgIH07XG4gIH1cbn1cbmxldCBpc0RvY2tlckNhY2hlZDtcbmFzeW5jIGZ1bmN0aW9uIGhhc0RvY2tlckVudigpIHtcbiAgaWYgKGdldFZlbmRvcigpID09PSBcImNsb3VkZmxhcmVcIikgcmV0dXJuIGZhbHNlO1xuICB0cnkge1xuICAgIGNvbnN0IGZzID0gYXdhaXQgaW1wb3J0UnVudGltZShcImZzXCIpO1xuICAgIGZzLnN0YXRTeW5jKFwiLy5kb2NrZXJlbnZcIik7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuYXN5bmMgZnVuY3Rpb24gaGFzRG9ja2VyQ0dyb3VwKCkge1xuICBpZiAoZ2V0VmVuZG9yKCkgPT09IFwiY2xvdWRmbGFyZVwiKSByZXR1cm4gZmFsc2U7XG4gIHRyeSB7XG4gICAgY29uc3QgZnMgPSBhd2FpdCBpbXBvcnRSdW50aW1lKFwiZnNcIik7XG4gICAgcmV0dXJuIGZzLnJlYWRGaWxlU3luYyhcIi9wcm9jL3NlbGYvY2dyb3VwXCIsIFwidXRmOFwiKS5pbmNsdWRlcyhcImRvY2tlclwiKTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5hc3luYyBmdW5jdGlvbiBpc0RvY2tlcigpIHtcbiAgaWYgKGdldFZlbmRvcigpID09PSBcImNsb3VkZmxhcmVcIikgcmV0dXJuIGZhbHNlO1xuICBpZiAoaXNEb2NrZXJDYWNoZWQgPT09IHZvaWQgMCkge1xuICAgIGlzRG9ja2VyQ2FjaGVkID0gYXdhaXQgaGFzRG9ja2VyRW52KCkgfHwgYXdhaXQgaGFzRG9ja2VyQ0dyb3VwKCk7XG4gIH1cbiAgcmV0dXJuIGlzRG9ja2VyQ2FjaGVkO1xufVxuYXN5bmMgZnVuY3Rpb24gaXNXc2woKSB7XG4gIHRyeSB7XG4gICAgaWYgKGdldFZlbmRvcigpID09PSBcImNsb3VkZmxhcmVcIikgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gXCJ1bmRlZmluZWRcIiB8fCBwcm9jZXNzPy5wbGF0Zm9ybSAhPT0gXCJsaW51eFwiKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGZzID0gYXdhaXQgaW1wb3J0UnVudGltZShcImZzXCIpO1xuICAgIGNvbnN0IG9zID0gYXdhaXQgaW1wb3J0UnVudGltZShcIm9zXCIpO1xuICAgIGlmIChvcy5yZWxlYXNlKCkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcIm1pY3Jvc29mdFwiKSkge1xuICAgICAgaWYgKGF3YWl0IGlzSW5zaWRlQ29udGFpbmVyKCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmcy5yZWFkRmlsZVN5bmMoXCIvcHJvYy92ZXJzaW9uXCIsIFwidXRmOFwiKS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwibWljcm9zb2Z0XCIpID8gIWF3YWl0IGlzSW5zaWRlQ29udGFpbmVyKCkgOiBmYWxzZTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5sZXQgaXNJbnNpZGVDb250YWluZXJDYWNoZWQ7XG5jb25zdCBoYXNDb250YWluZXJFbnYgPSBhc3luYyAoKSA9PiB7XG4gIGlmIChnZXRWZW5kb3IoKSA9PT0gXCJjbG91ZGZsYXJlXCIpIHJldHVybiBmYWxzZTtcbiAgdHJ5IHtcbiAgICBjb25zdCBmcyA9IGF3YWl0IGltcG9ydFJ1bnRpbWUoXCJmc1wiKTtcbiAgICBmcy5zdGF0U3luYyhcIi9ydW4vLmNvbnRhaW5lcmVudlwiKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuYXN5bmMgZnVuY3Rpb24gaXNJbnNpZGVDb250YWluZXIoKSB7XG4gIGlmIChpc0luc2lkZUNvbnRhaW5lckNhY2hlZCA9PT0gdm9pZCAwKSB7XG4gICAgaXNJbnNpZGVDb250YWluZXJDYWNoZWQgPSBhd2FpdCBoYXNDb250YWluZXJFbnYoKSB8fCBhd2FpdCBpc0RvY2tlcigpO1xuICB9XG4gIHJldHVybiBpc0luc2lkZUNvbnRhaW5lckNhY2hlZDtcbn1cbmZ1bmN0aW9uIGlzQ0koKSB7XG4gIHJldHVybiBlbnYuQ0kgIT09IFwiZmFsc2VcIiAmJiAoXCJCVUlMRF9JRFwiIGluIGVudiB8fCAvLyBKZW5raW5zLCBDbG91ZGJlZXNcbiAgXCJCVUlMRF9OVU1CRVJcIiBpbiBlbnYgfHwgLy8gSmVua2lucywgVGVhbUNpdHkgKGZpeGVkIHR5cG86IGV4dHJhIHNwYWNlIHJlbW92ZWQpXG4gIFwiQ0lcIiBpbiBlbnYgfHwgLy8gVHJhdmlzIENJLCBDaXJjbGVDSSwgQ2lycnVzIENJLCBHaXRsYWIgQ0ksIEFwcHZleW9yLCBDb2RlU2hpcCwgZHNhcmksIENsb3VkZmxhcmVcbiAgXCJDSV9BUFBfSURcIiBpbiBlbnYgfHwgLy8gQXBwZmxvd1xuICBcIkNJX0JVSUxEX0lEXCIgaW4gZW52IHx8IC8vIEFwcGZsb3dcbiAgXCJDSV9CVUlMRF9OVU1CRVJcIiBpbiBlbnYgfHwgLy8gQXBwZmxvd1xuICBcIkNJX05BTUVcIiBpbiBlbnYgfHwgLy8gQ29kZXNoaXAgYW5kIG90aGVyc1xuICBcIkNPTlRJTlVPVVNfSU5URUdSQVRJT05cIiBpbiBlbnYgfHwgLy8gVHJhdmlzIENJLCBDaXJydXMgQ0lcbiAgXCJSVU5fSURcIiBpbiBlbnYpO1xufVxuXG5mdW5jdGlvbiBkZXRlY3RSdW50aW1lKCkge1xuICBpZiAodHlwZW9mIERlbm8gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjb25zdCBkZW5vVmVyc2lvbiA9IERlbm8/LnZlcnNpb24/LmRlbm8gPz8gbnVsbDtcbiAgICByZXR1cm4geyBuYW1lOiBcImRlbm9cIiwgdmVyc2lvbjogZGVub1ZlcnNpb24gfTtcbiAgfVxuICBpZiAodHlwZW9mIEJ1biAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNvbnN0IGJ1blZlcnNpb24gPSBCdW4/LnZlcnNpb24gPz8gbnVsbDtcbiAgICByZXR1cm4geyBuYW1lOiBcImJ1blwiLCB2ZXJzaW9uOiBidW5WZXJzaW9uIH07XG4gIH1cbiAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiICYmIHByb2Nlc3M/LnZlcnNpb25zPy5ub2RlKSB7XG4gICAgcmV0dXJuIHsgbmFtZTogXCJub2RlXCIsIHZlcnNpb246IHByb2Nlc3MudmVyc2lvbnMubm9kZSA/PyBudWxsIH07XG4gIH1cbiAgcmV0dXJuIHsgbmFtZTogXCJlZGdlXCIsIHZlcnNpb246IG51bGwgfTtcbn1cbmZ1bmN0aW9uIGRldGVjdEVudmlyb25tZW50KCkge1xuICByZXR1cm4gZ2V0RW52VmFyKFwiTk9ERV9FTlZcIikgPT09IFwicHJvZHVjdGlvblwiID8gXCJwcm9kdWN0aW9uXCIgOiBpc0NJKCkgPyBcImNpXCIgOiBpc1Rlc3QoKSA/IFwidGVzdFwiIDogXCJkZXZlbG9wbWVudFwiO1xufVxuXG5jb25zdCBEQVRBQkFTRVMgPSB7XG4gIHBnOiBcInBvc3RncmVzcWxcIixcbiAgbXlzcWw6IFwibXlzcWxcIixcbiAgbWFyaWFkYjogXCJtYXJpYWRiXCIsXG4gIHNxbGl0ZTM6IFwic3FsaXRlXCIsXG4gIFwiYmV0dGVyLXNxbGl0ZTNcIjogXCJzcWxpdGVcIixcbiAgXCJAcHJpc21hL2NsaWVudFwiOiBcInByaXNtYVwiLFxuICBtb25nb29zZTogXCJtb25nb2RiXCIsXG4gIG1vbmdvZGI6IFwibW9uZ29kYlwiLFxuICBcImRyaXp6bGUtb3JtXCI6IFwiZHJpenpsZVwiXG59O1xuYXN5bmMgZnVuY3Rpb24gZGV0ZWN0RGF0YWJhc2UoKSB7XG4gIGZvciAoY29uc3QgW3BrZywgbmFtZV0gb2YgT2JqZWN0LmVudHJpZXMoREFUQUJBU0VTKSkge1xuICAgIGNvbnN0IHZlcnNpb24gPSBhd2FpdCBnZXRQYWNrYWdlVmVyc2lvbihwa2cpO1xuICAgIGlmICh2ZXJzaW9uKSByZXR1cm4geyBuYW1lLCB2ZXJzaW9uIH07XG4gIH1cbiAgcmV0dXJuIHZvaWQgMDtcbn1cblxuY29uc3QgRlJBTUVXT1JLUyA9IHtcbiAgbmV4dDogXCJuZXh0XCIsXG4gIG51eHQ6IFwibnV4dFwiLFxuICBcIkByZW1peC1ydW4vc2VydmVyLXJ1bnRpbWVcIjogXCJyZW1peFwiLFxuICBhc3RybzogXCJhc3Ryb1wiLFxuICBcIkBzdmVsdGVqcy9raXRcIjogXCJzdmVsdGVraXRcIixcbiAgXCJzb2xpZC1zdGFydFwiOiBcInNvbGlkLXN0YXJ0XCIsXG4gIFwidGFuc3RhY2stc3RhcnRcIjogXCJ0YW5zdGFjay1zdGFydFwiLFxuICBob25vOiBcImhvbm9cIixcbiAgZXhwcmVzczogXCJleHByZXNzXCIsXG4gIGVseXNpYTogXCJlbHlzaWFcIixcbiAgZXhwbzogXCJleHBvXCJcbn07XG5hc3luYyBmdW5jdGlvbiBkZXRlY3RGcmFtZXdvcmsoKSB7XG4gIGZvciAoY29uc3QgW3BrZywgbmFtZV0gb2YgT2JqZWN0LmVudHJpZXMoRlJBTUVXT1JLUykpIHtcbiAgICBjb25zdCB2ZXJzaW9uID0gYXdhaXQgZ2V0UGFja2FnZVZlcnNpb24ocGtnKTtcbiAgICBpZiAodmVyc2lvbikgcmV0dXJuIHsgbmFtZSwgdmVyc2lvbiB9O1xuICB9XG4gIHJldHVybiB2b2lkIDA7XG59XG5cbmZ1bmN0aW9uIGRldGVjdFBhY2thZ2VNYW5hZ2VyKCkge1xuICBjb25zdCB1c2VyQWdlbnQgPSBlbnYubnBtX2NvbmZpZ191c2VyX2FnZW50O1xuICBpZiAoIXVzZXJBZ2VudCkge1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH1cbiAgY29uc3QgcG1TcGVjID0gdXNlckFnZW50LnNwbGl0KFwiIFwiKVswXTtcbiAgY29uc3Qgc2VwYXJhdG9yUG9zID0gcG1TcGVjLmxhc3RJbmRleE9mKFwiL1wiKTtcbiAgY29uc3QgbmFtZSA9IHBtU3BlYy5zdWJzdHJpbmcoMCwgc2VwYXJhdG9yUG9zKTtcbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBuYW1lID09PSBcIm5wbWluc3RhbGxcIiA/IFwiY25wbVwiIDogbmFtZSxcbiAgICB2ZXJzaW9uOiBwbVNwZWMuc3Vic3RyaW5nKHNlcGFyYXRvclBvcyArIDEpXG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldFRlbGVtZXRyeUF1dGhDb25maWcob3B0aW9ucywgY29udGV4dCkge1xuICByZXR1cm4ge1xuICAgIGRhdGFiYXNlOiBjb250ZXh0Py5kYXRhYmFzZSxcbiAgICBhZGFwdGVyOiBjb250ZXh0Py5hZGFwdGVyLFxuICAgIGVtYWlsVmVyaWZpY2F0aW9uOiB7XG4gICAgICBzZW5kVmVyaWZpY2F0aW9uRW1haWw6ICEhb3B0aW9ucy5lbWFpbFZlcmlmaWNhdGlvbj8uc2VuZFZlcmlmaWNhdGlvbkVtYWlsLFxuICAgICAgc2VuZE9uU2lnblVwOiAhIW9wdGlvbnMuZW1haWxWZXJpZmljYXRpb24/LnNlbmRPblNpZ25VcCxcbiAgICAgIHNlbmRPblNpZ25JbjogISFvcHRpb25zLmVtYWlsVmVyaWZpY2F0aW9uPy5zZW5kT25TaWduSW4sXG4gICAgICBhdXRvU2lnbkluQWZ0ZXJWZXJpZmljYXRpb246ICEhb3B0aW9ucy5lbWFpbFZlcmlmaWNhdGlvbj8uYXV0b1NpZ25JbkFmdGVyVmVyaWZpY2F0aW9uLFxuICAgICAgZXhwaXJlc0luOiBvcHRpb25zLmVtYWlsVmVyaWZpY2F0aW9uPy5leHBpcmVzSW4sXG4gICAgICBvbkVtYWlsVmVyaWZpY2F0aW9uOiAhIW9wdGlvbnMuZW1haWxWZXJpZmljYXRpb24/Lm9uRW1haWxWZXJpZmljYXRpb24sXG4gICAgICBhZnRlckVtYWlsVmVyaWZpY2F0aW9uOiAhIW9wdGlvbnMuZW1haWxWZXJpZmljYXRpb24/LmFmdGVyRW1haWxWZXJpZmljYXRpb25cbiAgICB9LFxuICAgIGVtYWlsQW5kUGFzc3dvcmQ6IHtcbiAgICAgIGVuYWJsZWQ6ICEhb3B0aW9ucy5lbWFpbEFuZFBhc3N3b3JkPy5lbmFibGVkLFxuICAgICAgZGlzYWJsZVNpZ25VcDogISFvcHRpb25zLmVtYWlsQW5kUGFzc3dvcmQ/LmRpc2FibGVTaWduVXAsXG4gICAgICByZXF1aXJlRW1haWxWZXJpZmljYXRpb246ICEhb3B0aW9ucy5lbWFpbEFuZFBhc3N3b3JkPy5yZXF1aXJlRW1haWxWZXJpZmljYXRpb24sXG4gICAgICBtYXhQYXNzd29yZExlbmd0aDogb3B0aW9ucy5lbWFpbEFuZFBhc3N3b3JkPy5tYXhQYXNzd29yZExlbmd0aCxcbiAgICAgIG1pblBhc3N3b3JkTGVuZ3RoOiBvcHRpb25zLmVtYWlsQW5kUGFzc3dvcmQ/Lm1pblBhc3N3b3JkTGVuZ3RoLFxuICAgICAgc2VuZFJlc2V0UGFzc3dvcmQ6ICEhb3B0aW9ucy5lbWFpbEFuZFBhc3N3b3JkPy5zZW5kUmVzZXRQYXNzd29yZCxcbiAgICAgIHJlc2V0UGFzc3dvcmRUb2tlbkV4cGlyZXNJbjogb3B0aW9ucy5lbWFpbEFuZFBhc3N3b3JkPy5yZXNldFBhc3N3b3JkVG9rZW5FeHBpcmVzSW4sXG4gICAgICBvblBhc3N3b3JkUmVzZXQ6ICEhb3B0aW9ucy5lbWFpbEFuZFBhc3N3b3JkPy5vblBhc3N3b3JkUmVzZXQsXG4gICAgICBwYXNzd29yZDoge1xuICAgICAgICBoYXNoOiAhIW9wdGlvbnMuZW1haWxBbmRQYXNzd29yZD8ucGFzc3dvcmQ/Lmhhc2gsXG4gICAgICAgIHZlcmlmeTogISFvcHRpb25zLmVtYWlsQW5kUGFzc3dvcmQ/LnBhc3N3b3JkPy52ZXJpZnlcbiAgICAgIH0sXG4gICAgICBhdXRvU2lnbkluOiAhIW9wdGlvbnMuZW1haWxBbmRQYXNzd29yZD8uYXV0b1NpZ25JbixcbiAgICAgIHJldm9rZVNlc3Npb25zT25QYXNzd29yZFJlc2V0OiAhIW9wdGlvbnMuZW1haWxBbmRQYXNzd29yZD8ucmV2b2tlU2Vzc2lvbnNPblBhc3N3b3JkUmVzZXRcbiAgICB9LFxuICAgIHNvY2lhbFByb3ZpZGVyczogT2JqZWN0LmtleXMob3B0aW9ucy5zb2NpYWxQcm92aWRlcnMgfHwge30pLm1hcCgocCkgPT4ge1xuICAgICAgY29uc3QgcHJvdmlkZXIgPSBvcHRpb25zLnNvY2lhbFByb3ZpZGVycz8uW3BdO1xuICAgICAgaWYgKCFwcm92aWRlcikgcmV0dXJuIHt9O1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHAsXG4gICAgICAgIG1hcFByb2ZpbGVUb1VzZXI6ICEhcHJvdmlkZXIubWFwUHJvZmlsZVRvVXNlcixcbiAgICAgICAgZGlzYWJsZURlZmF1bHRTY29wZTogISFwcm92aWRlci5kaXNhYmxlRGVmYXVsdFNjb3BlLFxuICAgICAgICBkaXNhYmxlSWRUb2tlblNpZ25JbjogISFwcm92aWRlci5kaXNhYmxlSWRUb2tlblNpZ25JbixcbiAgICAgICAgZGlzYWJsZUltcGxpY2l0U2lnblVwOiBwcm92aWRlci5kaXNhYmxlSW1wbGljaXRTaWduVXAsXG4gICAgICAgIGRpc2FibGVTaWduVXA6IHByb3ZpZGVyLmRpc2FibGVTaWduVXAsXG4gICAgICAgIGdldFVzZXJJbmZvOiAhIXByb3ZpZGVyLmdldFVzZXJJbmZvLFxuICAgICAgICBvdmVycmlkZVVzZXJJbmZvT25TaWduSW46ICEhcHJvdmlkZXIub3ZlcnJpZGVVc2VySW5mb09uU2lnbkluLFxuICAgICAgICBwcm9tcHQ6IHByb3ZpZGVyLnByb21wdCxcbiAgICAgICAgdmVyaWZ5SWRUb2tlbjogISFwcm92aWRlci52ZXJpZnlJZFRva2VuLFxuICAgICAgICBzY29wZTogcHJvdmlkZXIuc2NvcGUsXG4gICAgICAgIHJlZnJlc2hBY2Nlc3NUb2tlbjogISFwcm92aWRlci5yZWZyZXNoQWNjZXNzVG9rZW5cbiAgICAgIH07XG4gICAgfSksXG4gICAgcGx1Z2luczogb3B0aW9ucy5wbHVnaW5zPy5tYXAoKHApID0+IHAuaWQudG9TdHJpbmcoKSksXG4gICAgdXNlcjoge1xuICAgICAgbW9kZWxOYW1lOiBvcHRpb25zLnVzZXI/Lm1vZGVsTmFtZSxcbiAgICAgIGZpZWxkczogb3B0aW9ucy51c2VyPy5maWVsZHMsXG4gICAgICBhZGRpdGlvbmFsRmllbGRzOiBvcHRpb25zLnVzZXI/LmFkZGl0aW9uYWxGaWVsZHMsXG4gICAgICBjaGFuZ2VFbWFpbDoge1xuICAgICAgICBlbmFibGVkOiBvcHRpb25zLnVzZXI/LmNoYW5nZUVtYWlsPy5lbmFibGVkLFxuICAgICAgICBzZW5kQ2hhbmdlRW1haWxWZXJpZmljYXRpb246ICEhb3B0aW9ucy51c2VyPy5jaGFuZ2VFbWFpbD8uc2VuZENoYW5nZUVtYWlsVmVyaWZpY2F0aW9uXG4gICAgICB9XG4gICAgfSxcbiAgICB2ZXJpZmljYXRpb246IHtcbiAgICAgIG1vZGVsTmFtZTogb3B0aW9ucy52ZXJpZmljYXRpb24/Lm1vZGVsTmFtZSxcbiAgICAgIGRpc2FibGVDbGVhbnVwOiBvcHRpb25zLnZlcmlmaWNhdGlvbj8uZGlzYWJsZUNsZWFudXAsXG4gICAgICBmaWVsZHM6IG9wdGlvbnMudmVyaWZpY2F0aW9uPy5maWVsZHNcbiAgICB9LFxuICAgIHNlc3Npb246IHtcbiAgICAgIG1vZGVsTmFtZTogb3B0aW9ucy5zZXNzaW9uPy5tb2RlbE5hbWUsXG4gICAgICBhZGRpdGlvbmFsRmllbGRzOiBvcHRpb25zLnNlc3Npb24/LmFkZGl0aW9uYWxGaWVsZHMsXG4gICAgICBjb29raWVDYWNoZToge1xuICAgICAgICBlbmFibGVkOiBvcHRpb25zLnNlc3Npb24/LmNvb2tpZUNhY2hlPy5lbmFibGVkLFxuICAgICAgICBtYXhBZ2U6IG9wdGlvbnMuc2Vzc2lvbj8uY29va2llQ2FjaGU/Lm1heEFnZVxuICAgICAgfSxcbiAgICAgIGRpc2FibGVTZXNzaW9uUmVmcmVzaDogb3B0aW9ucy5zZXNzaW9uPy5kaXNhYmxlU2Vzc2lvblJlZnJlc2gsXG4gICAgICBleHBpcmVzSW46IG9wdGlvbnMuc2Vzc2lvbj8uZXhwaXJlc0luLFxuICAgICAgZmllbGRzOiBvcHRpb25zLnNlc3Npb24/LmZpZWxkcyxcbiAgICAgIGZyZXNoQWdlOiBvcHRpb25zLnNlc3Npb24/LmZyZXNoQWdlLFxuICAgICAgcHJlc2VydmVTZXNzaW9uSW5EYXRhYmFzZTogb3B0aW9ucy5zZXNzaW9uPy5wcmVzZXJ2ZVNlc3Npb25JbkRhdGFiYXNlLFxuICAgICAgc3RvcmVTZXNzaW9uSW5EYXRhYmFzZTogb3B0aW9ucy5zZXNzaW9uPy5zdG9yZVNlc3Npb25JbkRhdGFiYXNlLFxuICAgICAgdXBkYXRlQWdlOiBvcHRpb25zLnNlc3Npb24/LnVwZGF0ZUFnZVxuICAgIH0sXG4gICAgYWNjb3VudDoge1xuICAgICAgbW9kZWxOYW1lOiBvcHRpb25zLmFjY291bnQ/Lm1vZGVsTmFtZSxcbiAgICAgIGZpZWxkczogb3B0aW9ucy5hY2NvdW50Py5maWVsZHMsXG4gICAgICBlbmNyeXB0T0F1dGhUb2tlbnM6IG9wdGlvbnMuYWNjb3VudD8uZW5jcnlwdE9BdXRoVG9rZW5zLFxuICAgICAgdXBkYXRlQWNjb3VudE9uU2lnbkluOiBvcHRpb25zLmFjY291bnQ/LnVwZGF0ZUFjY291bnRPblNpZ25JbixcbiAgICAgIGFjY291bnRMaW5raW5nOiB7XG4gICAgICAgIGVuYWJsZWQ6IG9wdGlvbnMuYWNjb3VudD8uYWNjb3VudExpbmtpbmc/LmVuYWJsZWQsXG4gICAgICAgIHRydXN0ZWRQcm92aWRlcnM6IG9wdGlvbnMuYWNjb3VudD8uYWNjb3VudExpbmtpbmc/LnRydXN0ZWRQcm92aWRlcnMsXG4gICAgICAgIHVwZGF0ZVVzZXJJbmZvT25MaW5rOiBvcHRpb25zLmFjY291bnQ/LmFjY291bnRMaW5raW5nPy51cGRhdGVVc2VySW5mb09uTGluayxcbiAgICAgICAgYWxsb3dVbmxpbmtpbmdBbGw6IG9wdGlvbnMuYWNjb3VudD8uYWNjb3VudExpbmtpbmc/LmFsbG93VW5saW5raW5nQWxsXG4gICAgICB9XG4gICAgfSxcbiAgICBob29rczoge1xuICAgICAgYWZ0ZXI6ICEhb3B0aW9ucy5ob29rcz8uYWZ0ZXIsXG4gICAgICBiZWZvcmU6ICEhb3B0aW9ucy5ob29rcz8uYmVmb3JlXG4gICAgfSxcbiAgICBzZWNvbmRhcnlTdG9yYWdlOiAhIW9wdGlvbnMuc2Vjb25kYXJ5U3RvcmFnZSxcbiAgICBhZHZhbmNlZDoge1xuICAgICAgY29va2llUHJlZml4OiAhIW9wdGlvbnMuYWR2YW5jZWQ/LmNvb2tpZVByZWZpeCxcbiAgICAgIC8vdGhpcyBzaG91bGRuJ3QgYmUgdHJhY2tlZFxuICAgICAgY29va2llczogISFvcHRpb25zLmFkdmFuY2VkPy5jb29raWVzLFxuICAgICAgY3Jvc3NTdWJEb21haW5Db29raWVzOiB7XG4gICAgICAgIGRvbWFpbjogISFvcHRpb25zLmFkdmFuY2VkPy5jcm9zc1N1YkRvbWFpbkNvb2tpZXM/LmRvbWFpbixcbiAgICAgICAgZW5hYmxlZDogb3B0aW9ucy5hZHZhbmNlZD8uY3Jvc3NTdWJEb21haW5Db29raWVzPy5lbmFibGVkLFxuICAgICAgICBhZGRpdGlvbmFsQ29va2llczogb3B0aW9ucy5hZHZhbmNlZD8uY3Jvc3NTdWJEb21haW5Db29raWVzPy5hZGRpdGlvbmFsQ29va2llc1xuICAgICAgfSxcbiAgICAgIGRhdGFiYXNlOiB7XG4gICAgICAgIHVzZU51bWJlcklkOiAhIW9wdGlvbnMuYWR2YW5jZWQ/LmRhdGFiYXNlPy51c2VOdW1iZXJJZCxcbiAgICAgICAgZ2VuZXJhdGVJZDogb3B0aW9ucy5hZHZhbmNlZD8uZGF0YWJhc2U/LmdlbmVyYXRlSWQsXG4gICAgICAgIGRlZmF1bHRGaW5kTWFueUxpbWl0OiBvcHRpb25zLmFkdmFuY2VkPy5kYXRhYmFzZT8uZGVmYXVsdEZpbmRNYW55TGltaXRcbiAgICAgIH0sXG4gICAgICB1c2VTZWN1cmVDb29raWVzOiBvcHRpb25zLmFkdmFuY2VkPy51c2VTZWN1cmVDb29raWVzLFxuICAgICAgaXBBZGRyZXNzOiB7XG4gICAgICAgIGRpc2FibGVJcFRyYWNraW5nOiBvcHRpb25zLmFkdmFuY2VkPy5pcEFkZHJlc3M/LmRpc2FibGVJcFRyYWNraW5nLFxuICAgICAgICBpcEFkZHJlc3NIZWFkZXJzOiBvcHRpb25zLmFkdmFuY2VkPy5pcEFkZHJlc3M/LmlwQWRkcmVzc0hlYWRlcnNcbiAgICAgIH0sXG4gICAgICBkaXNhYmxlQ1NSRkNoZWNrOiBvcHRpb25zLmFkdmFuY2VkPy5kaXNhYmxlQ1NSRkNoZWNrLFxuICAgICAgY29va2llQXR0cmlidXRlczoge1xuICAgICAgICBleHBpcmVzOiBvcHRpb25zLmFkdmFuY2VkPy5kZWZhdWx0Q29va2llQXR0cmlidXRlcz8uZXhwaXJlcyxcbiAgICAgICAgc2VjdXJlOiBvcHRpb25zLmFkdmFuY2VkPy5kZWZhdWx0Q29va2llQXR0cmlidXRlcz8uc2VjdXJlLFxuICAgICAgICBzYW1lU2l0ZTogb3B0aW9ucy5hZHZhbmNlZD8uZGVmYXVsdENvb2tpZUF0dHJpYnV0ZXM/LnNhbWVTaXRlLFxuICAgICAgICBkb21haW46ICEhb3B0aW9ucy5hZHZhbmNlZD8uZGVmYXVsdENvb2tpZUF0dHJpYnV0ZXM/LmRvbWFpbixcbiAgICAgICAgcGF0aDogb3B0aW9ucy5hZHZhbmNlZD8uZGVmYXVsdENvb2tpZUF0dHJpYnV0ZXM/LnBhdGgsXG4gICAgICAgIGh0dHBPbmx5OiBvcHRpb25zLmFkdmFuY2VkPy5kZWZhdWx0Q29va2llQXR0cmlidXRlcz8uaHR0cE9ubHlcbiAgICAgIH1cbiAgICB9LFxuICAgIHRydXN0ZWRPcmlnaW5zOiBvcHRpb25zLnRydXN0ZWRPcmlnaW5zPy5sZW5ndGgsXG4gICAgcmF0ZUxpbWl0OiB7XG4gICAgICBzdG9yYWdlOiBvcHRpb25zLnJhdGVMaW1pdD8uc3RvcmFnZSxcbiAgICAgIG1vZGVsTmFtZTogb3B0aW9ucy5yYXRlTGltaXQ/Lm1vZGVsTmFtZSxcbiAgICAgIHdpbmRvdzogb3B0aW9ucy5yYXRlTGltaXQ/LndpbmRvdyxcbiAgICAgIGN1c3RvbVN0b3JhZ2U6ICEhb3B0aW9ucy5yYXRlTGltaXQ/LmN1c3RvbVN0b3JhZ2UsXG4gICAgICBlbmFibGVkOiBvcHRpb25zLnJhdGVMaW1pdD8uZW5hYmxlZCxcbiAgICAgIG1heDogb3B0aW9ucy5yYXRlTGltaXQ/Lm1heFxuICAgIH0sXG4gICAgb25BUElFcnJvcjoge1xuICAgICAgZXJyb3JVUkw6IG9wdGlvbnMub25BUElFcnJvcj8uZXJyb3JVUkwsXG4gICAgICBvbkVycm9yOiAhIW9wdGlvbnMub25BUElFcnJvcj8ub25FcnJvcixcbiAgICAgIHRocm93OiBvcHRpb25zLm9uQVBJRXJyb3I/LnRocm93XG4gICAgfSxcbiAgICBsb2dnZXI6IHtcbiAgICAgIGRpc2FibGVkOiBvcHRpb25zLmxvZ2dlcj8uZGlzYWJsZWQsXG4gICAgICBsZXZlbDogb3B0aW9ucy5sb2dnZXI/LmxldmVsLFxuICAgICAgbG9nOiAhIW9wdGlvbnMubG9nZ2VyPy5sb2dcbiAgICB9LFxuICAgIGRhdGFiYXNlSG9va3M6IHtcbiAgICAgIHVzZXI6IHtcbiAgICAgICAgY3JlYXRlOiB7XG4gICAgICAgICAgYWZ0ZXI6ICEhb3B0aW9ucy5kYXRhYmFzZUhvb2tzPy51c2VyPy5jcmVhdGU/LmFmdGVyLFxuICAgICAgICAgIGJlZm9yZTogISFvcHRpb25zLmRhdGFiYXNlSG9va3M/LnVzZXI/LmNyZWF0ZT8uYmVmb3JlXG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZToge1xuICAgICAgICAgIGFmdGVyOiAhIW9wdGlvbnMuZGF0YWJhc2VIb29rcz8udXNlcj8udXBkYXRlPy5hZnRlcixcbiAgICAgICAgICBiZWZvcmU6ICEhb3B0aW9ucy5kYXRhYmFzZUhvb2tzPy51c2VyPy51cGRhdGU/LmJlZm9yZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc2Vzc2lvbjoge1xuICAgICAgICBjcmVhdGU6IHtcbiAgICAgICAgICBhZnRlcjogISFvcHRpb25zLmRhdGFiYXNlSG9va3M/LnNlc3Npb24/LmNyZWF0ZT8uYWZ0ZXIsXG4gICAgICAgICAgYmVmb3JlOiAhIW9wdGlvbnMuZGF0YWJhc2VIb29rcz8uc2Vzc2lvbj8uY3JlYXRlPy5iZWZvcmVcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlOiB7XG4gICAgICAgICAgYWZ0ZXI6ICEhb3B0aW9ucy5kYXRhYmFzZUhvb2tzPy5zZXNzaW9uPy51cGRhdGU/LmFmdGVyLFxuICAgICAgICAgIGJlZm9yZTogISFvcHRpb25zLmRhdGFiYXNlSG9va3M/LnNlc3Npb24/LnVwZGF0ZT8uYmVmb3JlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhY2NvdW50OiB7XG4gICAgICAgIGNyZWF0ZToge1xuICAgICAgICAgIGFmdGVyOiAhIW9wdGlvbnMuZGF0YWJhc2VIb29rcz8uYWNjb3VudD8uY3JlYXRlPy5hZnRlcixcbiAgICAgICAgICBiZWZvcmU6ICEhb3B0aW9ucy5kYXRhYmFzZUhvb2tzPy5hY2NvdW50Py5jcmVhdGU/LmJlZm9yZVxuICAgICAgICB9LFxuICAgICAgICB1cGRhdGU6IHtcbiAgICAgICAgICBhZnRlcjogISFvcHRpb25zLmRhdGFiYXNlSG9va3M/LmFjY291bnQ/LnVwZGF0ZT8uYWZ0ZXIsXG4gICAgICAgICAgYmVmb3JlOiAhIW9wdGlvbnMuZGF0YWJhc2VIb29rcz8uYWNjb3VudD8udXBkYXRlPy5iZWZvcmVcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHZlcmlmaWNhdGlvbjoge1xuICAgICAgICBjcmVhdGU6IHtcbiAgICAgICAgICBhZnRlcjogISFvcHRpb25zLmRhdGFiYXNlSG9va3M/LnZlcmlmaWNhdGlvbj8uY3JlYXRlPy5hZnRlcixcbiAgICAgICAgICBiZWZvcmU6ICEhb3B0aW9ucy5kYXRhYmFzZUhvb2tzPy52ZXJpZmljYXRpb24/LmNyZWF0ZT8uYmVmb3JlXG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZToge1xuICAgICAgICAgIGFmdGVyOiAhIW9wdGlvbnMuZGF0YWJhc2VIb29rcz8udmVyaWZpY2F0aW9uPy51cGRhdGU/LmFmdGVyLFxuICAgICAgICAgIGJlZm9yZTogISFvcHRpb25zLmRhdGFiYXNlSG9va3M/LnZlcmlmaWNhdGlvbj8udXBkYXRlPy5iZWZvcmVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gY3JlYXRlVGVsZW1ldHJ5KG9wdGlvbnMsIGNvbnRleHQpIHtcbiAgY29uc3QgZGVidWdFbmFibGVkID0gb3B0aW9ucy50ZWxlbWV0cnk/LmRlYnVnIHx8IGdldEJvb2xlYW5FbnZWYXIoXCJCRVRURVJfQVVUSF9URUxFTUVUUllfREVCVUdcIiwgZmFsc2UpO1xuICBjb25zdCBURUxFTUVUUllfRU5EUE9JTlQgPSBFTlYuQkVUVEVSX0FVVEhfVEVMRU1FVFJZX0VORFBPSU5UO1xuICBjb25zdCB0cmFjayA9IGFzeW5jIChldmVudCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoY29udGV4dD8uY3VzdG9tVHJhY2spIHtcbiAgICAgICAgYXdhaXQgY29udGV4dC5jdXN0b21UcmFjayhldmVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZGVidWdFbmFibGVkKSB7XG4gICAgICAgICAgYXdhaXQgUHJvbWlzZS5yZXNvbHZlKFxuICAgICAgICAgICAgbG9nZ2VyLmluZm8oXCJ0ZWxlbWV0cnkgZXZlbnRcIiwgSlNPTi5zdHJpbmdpZnkoZXZlbnQsIG51bGwsIDIpKVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXdhaXQgYmV0dGVyRmV0Y2goVEVMRU1FVFJZX0VORFBPSU5ULCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgYm9keTogZXZlbnRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2gge1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaXNFbmFibGVkID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHRlbGVtZXRyeUVuYWJsZWQgPSBvcHRpb25zLnRlbGVtZXRyeT8uZW5hYmxlZCAhPT0gdm9pZCAwID8gb3B0aW9ucy50ZWxlbWV0cnkuZW5hYmxlZCA6IGZhbHNlO1xuICAgIGNvbnN0IGVudkVuYWJsZWQgPSBnZXRCb29sZWFuRW52VmFyKFwiQkVUVEVSX0FVVEhfVEVMRU1FVFJZXCIsIGZhbHNlKTtcbiAgICByZXR1cm4gKGVudkVuYWJsZWQgfHwgdGVsZW1ldHJ5RW5hYmxlZCkgJiYgKGNvbnRleHQ/LnNraXBUZXN0Q2hlY2sgfHwgIWlzVGVzdCgpKTtcbiAgfTtcbiAgY29uc3QgZW5hYmxlZCA9IGF3YWl0IGlzRW5hYmxlZCgpO1xuICBsZXQgYW5vbnltb3VzSWQ7XG4gIGlmIChlbmFibGVkKSB7XG4gICAgYW5vbnltb3VzSWQgPSBhd2FpdCBnZXRQcm9qZWN0SWQob3B0aW9ucy5iYXNlVVJMKTtcbiAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgY29uZmlnOiBnZXRUZWxlbWV0cnlBdXRoQ29uZmlnKG9wdGlvbnMpLFxuICAgICAgcnVudGltZTogZGV0ZWN0UnVudGltZSgpLFxuICAgICAgZGF0YWJhc2U6IGF3YWl0IGRldGVjdERhdGFiYXNlKCksXG4gICAgICBmcmFtZXdvcms6IGF3YWl0IGRldGVjdEZyYW1ld29yaygpLFxuICAgICAgZW52aXJvbm1lbnQ6IGRldGVjdEVudmlyb25tZW50KCksXG4gICAgICBzeXN0ZW1JbmZvOiBhd2FpdCBkZXRlY3RTeXN0ZW1JbmZvKCksXG4gICAgICBwYWNrYWdlTWFuYWdlcjogZGV0ZWN0UGFja2FnZU1hbmFnZXIoKVxuICAgIH07XG4gICAgdm9pZCB0cmFjayh7IHR5cGU6IFwiaW5pdFwiLCBwYXlsb2FkLCBhbm9ueW1vdXNJZCB9KTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHB1Ymxpc2g6IGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgaWYgKCFlbmFibGVkKSByZXR1cm47XG4gICAgICBpZiAoIWFub255bW91c0lkKSB7XG4gICAgICAgIGFub255bW91c0lkID0gYXdhaXQgZ2V0UHJvamVjdElkKG9wdGlvbnMuYmFzZVVSTCk7XG4gICAgICB9XG4gICAgICBhd2FpdCB0cmFjayh7XG4gICAgICAgIHR5cGU6IGV2ZW50LnR5cGUsXG4gICAgICAgIHBheWxvYWQ6IGV2ZW50LnBheWxvYWQsXG4gICAgICAgIGFub255bW91c0lkXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCB7IGNyZWF0ZVRlbGVtZXRyeSwgZ2V0VGVsZW1ldHJ5QXV0aENvbmZpZyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/@better-auth+telemetry@1.3._9689844af577e247fe82d98ccf8641df/node_modules/@better-auth/telemetry/dist/index.mjs\n");

/***/ })

};
;